# Copyright 2025 Cisco Systems, Inc. and its affiliates
#
# SPDX-License-Identifier: Apache-2.0

---
benchmark: !from
  '$BENCHMARKS_ROOT/mcqa-template.yaml["mcqa_common_benchmark"]':
    metadata: !from
      '$BENCHMARKS_ROOT/base-template.yaml["metadata"]':
        name: "athenabench-ckt-3k"
        description: |-
          The AthenaBench Benchmark for Cybersecurity Knowledge Test (CKT-3K).
          This benchmark contains 3000 questions designed to evaluate
          cybersecurity knowledge and understanding.
        urls:
          - https://arxiv.org/abs/2511.01144
          - https://github.com/Athena-Software-Group/athenabench
        categories: ["security"]
        state: experimental
    source:
      git_repo: !from
        '$BENCHMARKS_ROOT/sources-template.yaml["sources"]["git_repo"]':
          repo_url: "https://github.com/Athena-Software-Group/athenabench.git"
          branch: "main"
          commit: "39d3a74eaf84b93e21dde0a4b60ddd4f08620eaf"
          type: "jsonl"
          benchmark_data_paths:
            - "benchmark/athena-cti-ckt-3k.jsonl"
      options:
        dataframe_transform_expr: |
          df.assign(
              question=df["prompt"].str.strip(),
              answer=df["answer"].str.strip()
                  .str.replace('Continuously monitor and alert on creation of new Global Administrator roles in cloud IAM', 'C')
                  .str.replace('Ａ', 'A')
                  .str.replace('Ｃ', 'C')
                  .str.replace('Ｄ', 'D')
                  .str.upper(),
              choices=[
                  [str(c) for c in lst]
                  for lst in df[sorted(col for col in df.columns if col.startswith("option_"))].values.tolist()
              ],
          )[["question", "choices", "answer"]]
    mcqa_config:
      answer_symbols: ["A", "B", "C", "D", "E"]
    format:
      # Currently no base/chat instruction is used for this benchmark as the
      # instruction is embedded in the prompt.
      instructions: !from '$BENCHMARKS_ROOT/instructions-template.yaml["instructions"]'
